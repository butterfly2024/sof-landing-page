const Data = [
    {
     "sNo": 1,
     "SourceOfFunds": "Gift from Relative",
     "supportingDocumentation": ["No Document Required"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-03.svg",
     
    },
    {
        "sNo": 2,
        "SourceOfFunds": "Sale of property purchased from funds remitted from an overseas OR NRE\/FCNR Account",
        "supportingDocumentation": ["Copy of the registered Sales Deed for the sale of property"],
        "disclaimer": "If the documents are in the vernacular language (apart from English\/Hindi), then a translated copy, attested by a notary\/authorised translator\/advocate, is required",
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-15.svg",
        
       },
       {
        "sNo": 3,
        "SourceOfFunds": "Sale of property purchased from a Rupee Source (while resident in India)",
        "supportingDocumentation": ["Copy of the registered Sales Deed for the sale of property",
        "For the case of Agricultural property, NRI remitter can only remit the sale proceeds if :-",
        "1. Remitter (NRI) has purchased the agricultural property through rupee source when he\/she was Resident Indian (Proof of Residency will be required) ",
        "2. Remitter (NRI) NRI has acquired the agricultural property as a gift when he\/she was Resident Indian  (Proof of Residency will be required) "
       ],
        "disclaimer": "If the documents are in the vernacular language (apart from English\/Hindi), then a translated copy, attested by a notary\/authorised translator\/advocate, is required",
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-16.svg",
        
       },
       
       {
        "sNo": 4,
        "SourceOfFunds": "Sale of property acquired through inheritance",
        "supportingDocumentation": ["Copy of the registered Sales Deed for the sale of property",
        "If the details of the inheritance are not clearly mentioned in the Sales Deed, please provide any one of the following:",
        " *Copy of the Will",
        " *Succession Certificate",
        " *Legal Heirship Certificate",
        " *Partition Deed",
        " *Settlement Deed",
        " *Court Order",
        " *Share Certificate of the Co-operative Housing Society showing transfer of the share to the seller",
        " *Mutation Deed\/Certificate",
        " *Jamabandhi\/7-12 Document (Saat Baarah)",
        "Copy of the Death Certificate of the deceased person, on whose demise the succession document came into operation (not required in case of a Partition Deed or Court Order)",
        "In case of Agriculture land, the sale proceeds can be remitted if the land was acquired through inheritance (Supporting documents will be required) "
   
       ],
        "disclaimer": "If the documents are in the vernacular language (apart from English\/Hindi), then a translated copy, attested by a notary\/authorised translator\/advocate, is required",
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-17.svg",
        
       },
      
       {
        "sNo": 5,
        "SourceOfFunds": "Funds from Cancellation or Compensation\/Buyback of Property by builder",
        "supportingDocumentation": ["Please provide any one of the following:",
        " Valid documentary evidence for cancellation of the deal, like cancellation agreement or correspondence between the parties",
        "OR",
        "If the remitter has assigned the rights to another person, copy of the tri-partite agreement between the seller, remitter and such third party or No Objection Certificate from the builder, supported by an agreement between the parties.",
        "Note: If the documents are in the vernacular language, the customer has to provide a translated copy, attested by a notary\/authorised translator\/advocate."
       ],
       
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-18.svg",
        
    },
    {
        "sNo": 6,
        "SourceOfFunds": "Fixed Deposits (Maturity of Debentures\/Bonds)",
        "supportingDocumentation": ["For the cases where FD was matured in other bank and then transferred to ICICI bank, then we will require FDR receipt and bank statement from the date of FDR maturity till the date the funds were transferred to ICICI Bank NRO account."],
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-22.svg",
        
    },
    {
        "sNo": 7,
        "SourceOfFunds": "Salary\/Gratuity\/Provident Fund (PF)\/Final Settlement by the Employer",
        "supportingDocumentation": ["Salary slip OR Gratuity\/PF\/Final Settlement Letter by the employer."],
        "typeOfIncome": "Current Income (No Limit)",
        "icon" : "./assets/icon-13.svg",
        
    },
    {
        "sNo": 8,
        "SourceOfFunds": "Sale of shares OR Mutual Funds",
        "supportingDocumentation": ["For listed shares - For shares sold through the Stock Exchange – copy of the Demat Statement from the Depository Participant, showing the amounts credited to the account (should match with the account statement) OR contract notes for the sale of shares \nFor Unlisted Shares - agreement of sale\nFor Buy back of Shares - buyback letter from the comapny\nFor Mutual Funds - mutual fund statement"],
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-19.svg",
        
    },
    {
        "sNo": 9,
        "SourceOfFunds": "Insurance Policy Claim or Maturity Proceeds",
        "supportingDocumentation": ["Copy of the policy document OR Advice from the Insurer regarding Maturity\/Claim Letter OR Warrant from the Insurance Company"],
        "typeOfIncome": "Capital Income ($1 Mn)",
        "icon" : "./assets/icon-05.svg",
        
    },
    {
        "sNo": 10,
        "SourceOfFunds": "Rental Income",
        "supportingDocumentation": ["Rent agreement OR rent receipts OR Form 16A (TDS Certificate) OR Form 26AS "],
        "typeOfIncome": "Current Income (No Limit)",
        "icon" : "./assets/icon-12.svg",
        
    },
    {
     "sNo": 11,
     "SourceOfFunds": "Income Tax Refund",
     "supportingDocumentation": ["IT Refund Receipt OR credit in the Bank Statement clearly reflecting a narration indicating income tax refund."],
     "typeOfIncome": "Capital Income",
     "icon" : "./assets/icon-04.svg",
     
    },
    
    {
     "sNo": 12,
     "SourceOfFunds": "Interest on Loan",
     "supportingDocumentation": ["No Document Required"],
     "typeOfIncome": "Current Income (No Limit)",
     "icon" : "./assets/icon-06.svg",
     
    },
    {
     "sNo": 13,
     "SourceOfFunds": "Interest on NRO Account",
     "supportingDocumentation": ["No Document Required"],
     "typeOfIncome": "Current Income (No Limit)",
     "icon" : "./assets/icon-07.svg",
     
    },
    {
     "sNo": 14,
     "SourceOfFunds": "Interest on Other Securities",
     "supportingDocumentation": ["Interest warrant(s) OR Form 16A (TDS Certificate)."],
     "typeOfIncome": "Current Income (No Limit)",
     "icon" : "./assets/icon-08.svg",
     
    },
    {
     "sNo": 15,
     "SourceOfFunds": "Maturity of Debentures\/Bonds",
     "supportingDocumentation": ["Maturity Certificate OR the Demat Statement OR Letter from the issuing company"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-09.svg",
     
    },
    {
     "sNo": 16,
     "SourceOfFunds": "Post Office Savings",
     "supportingDocumentation": ["Post Office Savings Account passbook"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-10.svg",
     
    },
    {
     "sNo": 17,
     "SourceOfFunds": "Public Provident Fund (PPF) Balances",
     "supportingDocumentation": ["PPF passbook (if other than ICICI Bank Ltd)"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-11.svg",
     
    },
    
   
    {
     "sNo": 18,
     "SourceOfFunds": "Inward Funds including NRE transfers to NRO account",
     "supportingDocumentation": ["In case, funds are remitted from an overseas to other bank account, then the FIRS (Foreign Inward Remittance Statement), along with the other bank statement for the period, will be required."],
     "typeOfIncome": "Current Income (No Limit)",
     "icon" : "./assets/icon-14.svg",
     
    },
    
   
    
    {
     "sNo": 19,
     "SourceOfFunds": "Repayment of loan from individual",
     "supportingDocumentation": ["No Document Required"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-20.svg",
     
    },
    {
    "sNo": 20,
     "SourceOfFunds": "Repayment of loan from entity (pvt ltd)",
     "supportingDocumentation": ["Board Resolution AND Loan Agreement AND Non Convertible Debentures"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-20.svg",
     
    },
    {
     "sNo": 21,
     "SourceOfFunds": "Dividend income",
     "supportingDocumentation": ["Dividend Warrant OR Intimation OR Entry in bank statement showing receipt is on account of dividend OR Form 16A (TDS certificate) "],
     "typeOfIncome": "Current Income (No Limit)",
     "icon" : "./assets/icon-21.svg",
     
    },
    
    {
     "sNo": 22,
     "SourceOfFunds": "Inheritance or Deceased claim (Gift from close relative)",
     "supportingDocumentation": ["Inheritance proof:-\n *Copy of the Will\n *Succession Certificate\n *Legal Heirship Certificate\n *Partition Deed\n *Settlement Deed\n *Court Order\n *Mutation Deed\/Certificate",
     "Bank Statement with details of registered nominee and Death Certificate\/Deceased Claim settlement letter from the bank"
    ],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-23.svg",
     
    },
   
    {
     "sNo": 23,
     "SourceOfFunds": "Sale of Vehicle\/Jewellery",
     "supportingDocumentation": ["Sale receipt\/Invoice"],
     "typeOfIncome": "Capital Income ($1 Mn)",
     "icon" : "./assets/icon-24.svg",
     
    }
]

// fetch('./data.json').then((response) => response.json()).then(data => {
//     localStorage.setItem('SofData', JSON.stringify(data))
// })


let container = document.querySelector("#content");
let loadMoreButton = document.querySelector('.insertbefore');
let moreButton = document.querySelector('.load-more')

let initailItems = 10;
let loadItems = 5;

function loadInitialItem(){
    let renderData = Data;
    let output = '';
    
    let couter = 0;
    
    for (let data of renderData){
        if(couter < initailItems){
            // console.log(data);
            
        //    console.log( data.supportingDocumentation);
            output += `
            <div class="group relative transition [overflow-anchor:none] py-1 SOF collapse-header"
            data-te-collapse-init
            data-te-collapse-collapsed
            data-te-target="#collapseTwo5${data.sNo}"
            aria-expanded="false"
            aria-controls="collapseTwo5${data.sNo}"
            >
            <div class="bg-gray-100 p-2 shadow-md flex flex-row items-center justify-between gap-4" id="collapse-header">
                <div class="flex flex-row items-center justify-start gap-4">
                <div class="bg-orange-500 rounded-full w-[30px] h-[30px] flex flex-wrap flex-shrink-0 items-center justify-center p-0.5">
                    <h1 class="text-white font-bold text-center">${data.sNo}</h1>
            </div>
                    <h1 class="text-[16px] font-bold text-gray-600">${data.SourceOfFunds}</h1>
                </div>
                <div class="w-[20px] flex flex-shrink-0 items-center justify-end ">
                    <span
                    class="-mr-1 ml-auto h-5 w-5 shrink-0 rotate-[-180deg] fill-[#336dec] transition-transform duration-200 ease-in-out group-[[data-te-collapse-collapsed]]:mr-0 group-[[data-te-collapse-collapsed]]:rotate-0 group-[[data-te-collapse-collapsed]]:fill-[#212529] motion-reduce:transition-none dark:fill-blue-300 dark:group-[[data-te-collapse-collapsed]]:fill-white text-orange-500">
                    <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="h-6 w-6 border border-orange-400 rounded-full">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                    </svg>
                </span>
                </div>
            </div>
            <div class="collapse-body bg-white py-4 border border-gray-100 rounded-b-lg shadow-md hidden" id="collapseTwo5${data.sNo}"
            class="!visible hidden bg-white py-4 border border-gray-100 rounded-b-lg shadow-md"
            data-te-collapse-item
            aria-labelledby="headingTwo5${data.sNo}"
            >
                <div class="grid grid-cols-2 px-2">
                <div class="px-2 border-r border-r-gray-100">
                <h6 class="text-[12px] text-gray-600 pb-2">Supporting Documentation</h6>`
                for (let i=0; i < data.supportingDocumentation.length; i++) {
                    console.log(data.supportingDocumentation[i]);
                    output +=`<ul class="list-disc list-outside pl-4 text-[16px]">
                    <li class="text-justify">${data.supportingDocumentation[i]}</li>
                    </ul>`
                }
                if(data.disclaimer) {
                    output +=`
                        <div class="leading-normal text-justify">
                            <small class="text-gray-600 leading-normal">${data?.disclaimer}</small>
                        </div>`
                }
            output +=`</div>
                    <div class="px-2">
                        <h6 class="text-[12px] text-gray-600 pb-2">Type of Income</h6>
                        <ul class="list-disc list-outside pl-4 text-[16px]">
                            <li>${data.typeOfIncome}</li>
                        </ul>
                    </div>
                    
                </div>
                
            </div>
            </div>
            `
        }
        couter++;

       
    }

    let div = document.createElement('div');
    container.insertBefore(div, loadMoreButton);
    div.innerHTML = output;

    let items = document.querySelectorAll('.collapse-header');
    items.forEach(item => {
        item.addEventListener('click', () => {
            // console.log('toggle');
            const toggle = item.querySelector('.collapse-body');
            const img = item.querySelector('.arrow');
            toggle.classList.toggle('hidden')
            img.src = toggle ?'./assets/icon_6.svg': './assets/icon_5.svg';
        });
    });
}

function loadData(){
    // alert('click')
    let remainingData = Data;
    let currentDisplayItem = document.querySelectorAll('.SOF').length;
    let output = '';
    let counter = 0;

    for (let data of remainingData) {
        if(counter >= currentDisplayItem && counter < loadItems + currentDisplayItem){
            output +=`
            <div class="group relative transition [overflow-anchor:none] py-1 SOF collapse-header"
            data-te-collapse-init
            data-te-collapse-collapsed
            data-te-target="#collapseTwo5${data.sNo}"
            aria-expanded="false"
            aria-controls="collapseTwo5${data.sNo}"
            >
            <div class="bg-gray-100 p-2 shadow-md flex flex-row items-center justify-between gap-4" id="collapse-header">
                <div class="flex flex-row items-center justify-start gap-4">
                <div class="bg-orange-500 rounded-full w-[30px] h-[30px] flex flex-wrap flex-shrink-0 items-center justify-center p-0.5">
                    <h1 class="text-white font-bold text-center">${data.sNo}</h1>
            </div>
                    <h1 class="text-[16px] font-bold text-gray-600">${data.SourceOfFunds}</h1>
                </div>
                <div class="w-[20px] flex flex-shrink-0 items-center justify-end ">
                    <span
                    class="-mr-1 ml-auto h-5 w-5 shrink-0 rotate-[-180deg] fill-[#336dec] transition-transform duration-200 ease-in-out group-[[data-te-collapse-collapsed]]:mr-0 group-[[data-te-collapse-collapsed]]:rotate-0 group-[[data-te-collapse-collapsed]]:fill-[#212529] motion-reduce:transition-none dark:fill-blue-300 dark:group-[[data-te-collapse-collapsed]]:fill-white text-orange-500">
                    <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="h-6 w-6 border border-orange-400 rounded-full">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                    </svg>
                </span>
                </div>
            </div>
            <div class="collapse-body bg-white py-4 border border-gray-100 rounded-b-lg shadow-md hidden" id="collapseTwo5${data.sNo}"
            class="!visible hidden bg-white py-4 border border-gray-100 rounded-b-lg shadow-md"
            data-te-collapse-item
            aria-labelledby="headingTwo5${data.sNo}"
            >
                <div class="grid grid-cols-2 px-2">
                <div class="px-2 border-r border-r-gray-100">
                <h6 class="text-[12px] text-gray-600 pb-2">Supporting Documentation</h6>`
                for (let i=0; i < data.supportingDocumentation.length; i++) {
                    console.log(data.supportingDocumentation[i]);
                    output +=`<ul class="list-disc list-outside pl-4 text-[16px]">
                    <li class="text-justify">${data.supportingDocumentation[i]}</li>
                    </ul>`
                }
                if(data.disclaimer) {
                    output +=`
                        <div class="leading-normal text-justify">
                            <small class="text-gray-600 leading-normal">${data?.disclaimer}</small>
                        </div>`
                }
            output +=`</div>
                    <div class="px-2">
                        <h6 class="text-[12px] text-gray-600 pb-2">Type of Income</h6>
                        <ul class="list-disc list-outside pl-4 text-[16px]">
                            <li>${data.typeOfIncome}</li>
                        </ul>
                    </div>
                    
                </div>
                
            </div>
            </div>
            `
        }
        counter++;
    }

    let div = document.createElement('div');
    container.insertBefore(div, loadMoreButton);
    div.innerHTML = output;
    console.log(currentDisplayItem);

    let items = document.querySelectorAll('.collapse-header');
    items.forEach(item => {
        item.addEventListener('click', () => {
            // console.log('toggle');
            const toggle = item.querySelector('.collapse-body');
            const img = item.querySelector('.arrow');
            toggle.classList.toggle('hidden')
            img.src = toggle ?'./assets/icon_6.svg': './assets/icon_5.svg';
        })
    })

    

    if(document.querySelectorAll('.SOF').length == remainingData.length){
        moreButton.classList.add('hidden')
    }
}

